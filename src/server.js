/* eslint-disable */
const _0x45e137=_0xea07;(function(_0x2d28b3,_0x369ade){const _0x2e98ac=_0xea07,_0x2f4d5a=_0x2d28b3();while(!![]){try{const _0x3659d1=-parseInt(_0x2e98ac(0x208))/0x1*(-parseInt(_0x2e98ac(0x1dc))/0x2)+parseInt(_0x2e98ac(0x1f2))/0x3*(-parseInt(_0x2e98ac(0x1fa))/0x4)+parseInt(_0x2e98ac(0x1db))/0x5+-parseInt(_0x2e98ac(0x1e9))/0x6*(-parseInt(_0x2e98ac(0x1e2))/0x7)+parseInt(_0x2e98ac(0x1f6))/0x8*(-parseInt(_0x2e98ac(0x201))/0x9)+-parseInt(_0x2e98ac(0x1f1))/0xa+parseInt(_0x2e98ac(0x1eb))/0xb;if(_0x3659d1===_0x369ade)break;else _0x2f4d5a['push'](_0x2f4d5a['shift']());}catch(_0xd4f202){_0x2f4d5a['push'](_0x2f4d5a['shift']());}}}(_0x366f,0x6d702));import _0x1eb14d from'express';function _0x366f(){const _0x23ffa4=['264KJOJkr','includes','10861257TExsSa','desc','length','map','every','toISOString','6323050glIHil','9zPaTtF','beginner','description','food','328bBOrUc','get','flatMap','/ingredients','380948EBSocH','listen','from','slice','asc','intermediate','sort','47799sbpXVZ','all','json','query','filter','log','date','808TzAnFM','1051510wlpZPl','926fhAnRo','/recipes','dish','floor','Server\x20running\x20on\x20http://localhost:','split','1946JYZtzl','use','advanced','ingredients','fill','past','random'];_0x366f=function(){return _0x23ffa4;};return _0x366f();}import{faker}from'@faker-js/faker';import _0x32777c from'cors';const app=_0x1eb14d(),PORT=0xd04,levels=[_0x45e137(0x1f3),_0x45e137(0x1ff),_0x45e137(0x1e4)],recipes=await Promise[_0x45e137(0x202)](new Array(0x32)[_0x45e137(0x1e6)](0x0)[_0x45e137(0x1ee)](async(_0x52d7a7,_0xa7360a)=>{const _0x5bf1f3=_0x45e137;return{'id':_0xa7360a+0x1,'name':faker[_0x5bf1f3(0x1f5)][_0x5bf1f3(0x1de)](),'imageUrl':'https://picsum.photos/300','description':faker[_0x5bf1f3(0x1f5)][_0x5bf1f3(0x1f4)](),'createdAt':faker[_0x5bf1f3(0x207)][_0x5bf1f3(0x1e7)]()[_0x5bf1f3(0x1f0)](),'duration':Math[_0x5bf1f3(0x1df)](Math[_0x5bf1f3(0x1e8)]()*0x5a)+0xa,'level':levels[Math[_0x5bf1f3(0x1df)](Math[_0x5bf1f3(0x1e8)]()*levels[_0x5bf1f3(0x1ed)])],'ingredients':Array[_0x5bf1f3(0x1fc)]({'length':Math[_0x5bf1f3(0x1df)](Math[_0x5bf1f3(0x1e8)]()*0x5)+0x1},()=>faker[_0x5bf1f3(0x1f5)]['ingredient']())};})),allIngredients=[...new Set(recipes[_0x45e137(0x1f8)](_0x475786=>_0x475786[_0x45e137(0x1e5)]))];function _0xea07(_0x4aa490,_0x3a5e4c){const _0x366f6e=_0x366f();return _0xea07=function(_0xea0751,_0xc4c1ff){_0xea0751=_0xea0751-0x1db;let _0x123508=_0x366f6e[_0xea0751];return _0x123508;},_0xea07(_0x4aa490,_0x3a5e4c);}app[_0x45e137(0x1e3)](_0x32777c()),app[_0x45e137(0x1f7)](_0x45e137(0x1dd),(_0x43ce57,_0xd94003)=>{const _0x5ee71a=_0x45e137;let {page:page=0x1,limit:limit=0xa,sortBy:_0xd5584c,order:order=_0x5ee71a(0x1fe),level:_0x1e1fac,tags:_0x175196,ingredients:_0x263751}=_0x43ce57[_0x5ee71a(0x204)];page=parseInt(page),limit=parseInt(limit);let _0x4e61f2=[...recipes];_0x1e1fac&&(_0x4e61f2=_0x4e61f2['filter'](_0x5ccbd4=>_0x5ccbd4['level']===_0x1e1fac));if(_0x175196){const _0x528da3=_0x175196[_0x5ee71a(0x1e1)](',');_0x4e61f2=_0x4e61f2[_0x5ee71a(0x205)](_0x117206=>_0x528da3['every'](_0x3b7868=>_0x117206['tags']['includes'](_0x3b7868)));}if(_0x263751){const _0x23ee62=_0x263751['split'](',');_0x4e61f2=_0x4e61f2[_0x5ee71a(0x205)](_0x3d8a7a=>_0x23ee62[_0x5ee71a(0x1ef)](_0x211286=>_0x3d8a7a[_0x5ee71a(0x1e5)][_0x5ee71a(0x1ea)](_0x211286)));}_0xd5584c&&_0x4e61f2[_0x5ee71a(0x200)]((_0x1fe9f7,_0x1fb500)=>{const _0x5e9e4c=_0x5ee71a;if(order===_0x5e9e4c(0x1ec))return _0x1fb500[_0xd5584c]>_0x1fe9f7[_0xd5584c]?0x1:-0x1;return _0x1fe9f7[_0xd5584c]>_0x1fb500[_0xd5584c]?0x1:-0x1;});const _0x29c41a=(page-0x1)*limit,_0x25ae58=_0x4e61f2[_0x5ee71a(0x1fd)](_0x29c41a,_0x29c41a+limit);_0xd94003['json']({'total':_0x4e61f2[_0x5ee71a(0x1ed)],'page':page,'limit':limit,'items':_0x25ae58});}),app[_0x45e137(0x1f7)](_0x45e137(0x1f9),(_0x4f07de,_0x2e222a)=>{const _0x437541=_0x45e137;_0x2e222a[_0x437541(0x203)]({'ingredients':allIngredients});}),app[_0x45e137(0x1fb)](PORT,()=>{const _0x3d7132=_0x45e137;console[_0x3d7132(0x206)](_0x3d7132(0x1e0)+PORT);});